/*!
 * vue-ics v0.1.2 
 * (c) 2020 Stanislav Mihaylov <ceo@pepper.llc>
 * Released under the MIT License.
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("file-saver")):"function"==typeof define&&define.amd?define(["file-saver"],t):(n=n||self,n.VueIcs=t(n.fileSaver))}(this,function(n){"use strict";function t(n){var t=0,e=["SU","MO","TU","WE","TH","FR","SA"];if("YEARLY"!==n.freq&&"MONTHLY"!==n.freq&&"WEEKLY"!==n.freq&&"DAILY"!==n.freq)throw t+=1,"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'";if(n.until&&isNaN(Date.parse(n.until)))throw t+=1,"Recurrence rrule 'until' must be a valid date string";if(n.interval&&isNaN(parseInt(n.interval)))throw t+=1,"Recurrence rrule 'interval' must be an integer";if(n.count&&isNaN(parseInt(n.count)))throw t+=1,"Recurrence rrule 'count' must be an integer";if(void 0!==n.byday){if("[object Array]"!==Object.prototype.toString.call(n.byday))throw t+=1,"Recurrence rrule 'byday' must be an array";if(n.byday.length>7)throw t+=1,"Recurrence rrule 'byday' array must not be longer than the 7 days in a week";n.byday=n.byday.filter(function(t,e){return n.byday.indexOf(t)==e});for(var c in n.byday)if(e.indexOf(n.byday[c])<0)throw t+=1,"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"}return 0===t}function e(n){return"\n".concat(n,"\n")}function c(){return a++}var o=[],a=0,r=function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{uidDomain:"evildvl",prodId:"vueICS"};a.prototype.$ics={removeAllEvents:function(){o=[]},addEvent:function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-us",a=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",u=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,g=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;if(void 0===a||void 0===i||void 0===l||void 0===u||void 0===s)throw"You need to specify function arguments";if(f&&t(f)){if(n="RRULE:FREQ=".concat(f.freq),f.until){var v=new Date(Date.parse(f.until)).toISOString();n+=";UNTIL=".concat(v.substring(0,v.length-13).replace(/[-]/g,""),"000000Z")}f.interval&&(n+=";INTERVAL=".concat(f.interval)),f.count&&(n+=";COUNT=".concat(f.count)),f.byday&&f.byday.length>0&&(n+=";BYDAY=".concat(f.byday.join(",")))}var y=new Date(u),E=new Date(s),S=new Date,D="".concat(S.getDay()).concat(S.getMonth()).concat(S.getFullYear(),"-").concat(S.getHours()).concat(S.getMinutes()).concat(S.getSeconds()).concat(c()),A="0000".concat(y.getFullYear().toString()).slice(-4),h="00".concat((y.getMonth()+1).toString()).slice(-2),N="00".concat(y.getDate().toString()).slice(-2),R="00".concat(y.getHours().toString()).slice(-2),T="00".concat(y.getMinutes().toString()).slice(-2),I="00".concat(y.getSeconds().toString()).slice(-2),b="0000".concat(E.getFullYear().toString()).slice(-4),p="00".concat((E.getMonth()+1).toString()).slice(-2),w="00".concat(E.getDate().toString()).slice(-2),L="00".concat(E.getHours().toString()).slice(-2),m="00".concat(E.getMinutes().toString()).slice(-2),M="00".concat(E.getSeconds().toString()).slice(-2),O="0000".concat(S.getFullYear().toString()).slice(-4),Y="00".concat((S.getMonth()+1).toString()).slice(-2),V="00".concat(S.getDate().toString()).slice(-2),U="00".concat(S.getHours().toString()).slice(-2),C="00".concat(S.getMinutes().toString()).slice(-2),H="00".concat(S.getSeconds().toString()).slice(-2),q="",F="";R+T+I+L+m+M!=0&&(q="T".concat(R).concat(T).concat(I),F="T".concat(L).concat(m).concat(M));var j="T".concat(U).concat(C).concat(H),x=A+h+N+q,G=b+p+w+F,B=O+Y+V+j,P="\n    BEGIN:VEVENT\n    UID:".concat(D,"@").concat(r.uidDomain,"\n    ").concat(d?"URL:"+d:"","\n    DESCRIPTION:").concat(i).concat(n?"\n"+n:"","\n    DTSTAMP;VALUE=DATE-TIME:").concat(B,",\n    DTSTART;VALUE=DATE-TIME:").concat(x,"\n    DTEND;VALUE=DATE-TIME:").concat(G,"\n    LOCATION:").concat(l,"\n    ").concat(g?"ORGANIZER;CN="+g.name+":MAILTO:"+g.email:"","\n    SUMMARY;LANGUAGE=").concat(e,":").concat(a,"\n    END:VEVENT\n      ");return o.push(P),P},calendar:function(){return e("\n    BEGIN:VCALENDAR\n    PRODID:".concat(r.prodId,"\n    VERSION:2.0\n    ").concat(o.join("\n"),"\n    END:VCALENDAR\n\n      ").replace(/^\s*[\r\n]/gm,"").replace(/^\s+/gm,""))},download:function(t){var c=e("\n    BEGIN:VCALENDAR\n    PRODID:".concat(r.prodId,"\n    VERSION:2.0\n    ").concat(o.join("\n"),"\n    END:VCALENDAR\n\n      ").replace(/^\s*[\r\n]/gm,"").replace(/^\s+/gm,"")),a=new Blob([c],{type:"text/x-vCalendar;charset=utf-8"});n.saveAs(a,"".concat(t,".ics"))}}},i={install:r,version:"0.1.2"};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(i),i});